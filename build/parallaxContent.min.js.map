{"version":3,"sources":["parallaxContent.es6"],"names":["Carousel_core","options","_classCallCheck","this","self","$slider","$","selector","$slides","find","slides","create_slides_arr","thumbs","create_thumbs_arr","slider_width","slider_height","thumb_width","current_index","next_index","prev_index","play_interval","thumb_animation_tl","TimelineMax","slider_animation_tl","autoplay_speed","animate_duration","interval","skip_slide","slides_count","length","pagination","init_thumbs_index","get_slide_size","get_thumb_size","outerWidth","outerHeight","window","on","thumb_height","remove","thumb_arr","each","push","element","slider_counter","slide","element_thumb_content","slide_settings","data","slides_counter","thumb_counter","forEach","index","pagination_el","counter","$pagination_el","i","append","go_to_index","clearInterval","setInterval","go_to","render","direction","slider_animation","thumb_animation","isActive","progress","set","className","fromTo","clip","thumb","next_thumb","current_thumb","carousel_core"],"mappings":"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","file":"parallaxContent.min.js","sourcesContent":["class Carousel_core {\n\n    constructor(options) {\n\n        let self = this;\n\n\n        let $slider = $(options.selector);\n        let $slides = $slider.find('div');\n\n\n        self.slides = self.create_slides_arr($slides);\n\n        self.thumbs = self.create_thumbs_arr();\n\n\n        // self.update_thumbs($slides);\n\n        // console.log(self.thumbs);\n\n        self.slider_width = 0;\n        self.slider_height = 0;\n\n        self.thumb_width = 0;\n        self.thumb_width = 0;\n\n        self.current_index = 0;\n        self.next_index = null;\n        self.prev_index = null;\n        self.play_interval;\n\n        self.thumb_animation_tl = new TimelineMax();\n        self.slider_animation_tl = new TimelineMax();\n\n\n        self.autoplay_speed = 2;\n        self.animate_duration = 3;\n\n        self.interval = self.autoplay_speed + self.animate_duration;\n\n\n        self.skip_slide = false;\n\n        self.slides_count = self.slides.length;\n\n        if (options.pagination) {\n            self.pagination(options.pagination);\n        }\n\n        self.init_thumbs_index();\n\n        self.get_slide_size();\n        self.get_thumb_size();\n\n        // self.play();\n\n    }\n\n    get_slide_size(){\n\n        let self = this;\n\n        self.slider_width = $('.main >div').outerWidth();\n        self.slider_height = $('.main >div').outerHeight();\n\n        $(window).on('resize', function(){\n            self.slider_width = $('.main >div').outerWidth();\n            self.slider_height = $('.main >div').outerHeight();\n        })\n\n    }\n\n    get_thumb_size(){\n\n        let self = this;\n\n        self.thumb_width = $('.thumb >div').outerWidth();\n        self.thumb_height = $('.thumb >div').outerHeight();\n\n        $(window).on('resize', function(){\n            self.thumb_width = $('.thumb >div').outerWidth();\n            self.thumb_height = $('.thumb >div').outerHeight();\n        })\n\n    }\n\n    create_thumbs_arr() {\n        $('.thumb >div:eq(0)').remove();\n\n        let thumb_arr = [];\n\n        $('.thumb >div').each(function () {\n\n            thumb_arr.push({\n                element: $(this)\n            });\n        })\n\n        return thumb_arr;\n    }\n\n    create_slides_arr($slides) {\n\n        let slider_counter = 0;\n\n        let slides = [];\n\n        $slides.each(function (slide) {\n\n            // console.log($(this).data());\n            slides.push({\n                element: $(this),\n                // element_thumb: $('.thumb >div:eq('+ slider_counter  +')'),\n                element_thumb_content: $('.thumb >div:eq(' + slider_counter + ')>div'),\n                slide_settings: $(this).data('expandCarousel')\n\n            });\n\n            slider_counter++;\n\n        });\n\n        return slides;\n    }\n\n\n    init_thumbs_index() {\n\n        let self = this;\n\n        let slides_counter = 0;\n        let thumb_counter = 0;\n\n        self.slides.forEach(function () {\n\n            if (slides_counter != self.current_index) {\n\n                self.thumbs[thumb_counter++].index = slides_counter;\n            }\n\n\n            slides_counter++;\n        });\n    }\n\n    pagination(pagination_el) {\n\n        let self = this;\n        let counter = 0;\n\n        let $pagination_el = $(pagination_el);\n\n        for (let i = 0; i < self.slides_count; i++) {\n            $pagination_el.append('<span>' + counter++ + '</span>')\n        }\n\n        $pagination_el.on('click', 'span', function () {\n            self.go_to_index($(this).index())\n        });\n    }\n\n    play() {\n\n        let self = this;\n\n        clearInterval(self.play_interval);\n\n        self.play_interval = setInterval(() => {\n\n            self.go_to('forward');\n\n        }, self.interval * 1000);\n    }\n\n    stop() {\n        let self = this;\n\n        clearInterval(self.play_interval);\n    }\n\n    next() {\n        let self = this;\n\n        self.go_to('forward');\n    }\n\n    prev() {\n        let self = this;\n\n        self.go_to('backward');\n    }\n\n    go_to_index(index) {\n        let self = this;\n\n\n        self.next_index = index;\n\n        self.render();\n    }\n\n    go_to(direction) {\n\n        let self = this;\n\n        self.prev_index = self.next_index;\n\n        if (direction == 'forward') {\n\n            if (self.current_index == self.slides.length - 1) {\n                self.next_index = 0;\n            }\n\n            else {\n                self.next_index = self.current_index + 1;\n            }\n        }\n\n        else if (direction == 'backward') {\n            if (self.current_index == 0) {\n                self.next_index = self.slides.length - 1;\n            }\n\n            else {\n                self.next_index = self.current_index - 1;\n            }\n        }\n\n\n        self.render();\n\n    }\n\n    render() {\n\n        let self = this;\n\n        self.slider_animation();\n        self.thumb_animation();\n\n        self.current_index = self.next_index;\n\n        self.next_index = null;\n\n    }\n\n    slider_animation(){\n        let self = this;\n\n        if ( self.slider_animation_tl.isActive() === true ) {\n            self.slider_animation_tl.progress(1);\n        }\n\n        self.slider_animation_tl.set(self.slides[self.next_index].element, {className:'+=next'})\n\n        self.slider_animation_tl.fromTo(self.slides[self.current_index].element, 3, {clip: 'rect(0, ' + self.slider_width + 'px, ' + self.slider_height + 'px, 0px)'}, {clip: 'rect(0, 0px,' + self.slider_height + 'px, 0px)'})\n        self.slider_animation_tl.set(self.slides[self.current_index].element, {className:'-=active'})\n\n        self.slider_animation_tl.set(self.slides[self.current_index].element, {clip: 'rect(0, ' + self.slider_width + 'px, ' + self.slider_height + 'px, 0px)'})\n\n        self.slider_animation_tl.set(self.slides[self.next_index].element, {className:'-=next'})\n        self.slider_animation_tl.set(self.slides[self.next_index].element, {className:'+=active'})\n\n    }\n\n    thumb_animation(){\n\n        let self = this;\n\n        self.thumbs.forEach(function (thumb) {\n\n            if (thumb.index == self.next_index) {\n\n\n                if ( self.thumb_animation_tl.isActive() === true ) {\n                    self.thumb_animation_tl.progress(1);\n                }\n\n\n                thumb.element.append(self.slides[self.current_index].element_thumb_content);\n\n\n                let next_thumb = $(thumb.element).find('div:eq(1)');\n                let current_thumb = $(thumb.element).find('div:eq(0)');\n\n\n\n                self.thumb_animation_tl.set(next_thumb, {className:'+=next'})\n\n                self.thumb_animation_tl.fromTo(current_thumb, 3, {clip: 'rect(0, ' + self.thumb_width + 'px, ' + self.thumb_height + 'px, 0px)'}, {clip: 'rect(0, 0px,' + self.thumb_height + 'px, 0px)'})\n\n                self.thumb_animation_tl.set(current_thumb, {className:'-=active'})\n                self.thumb_animation_tl.set(next_thumb, {className:'-=next'})\n                self.thumb_animation_tl.set(next_thumb, {className:'+=active'})\n\n                self.thumb_animation_tl.set(current_thumb, {clip: 'rect(0, ' + self.thumb_width + 'px, ' + self.thumb_height + 'px, 0px)'})\n\n\n                thumb.index = self.current_index;\n\n            }\n        })\n\n    }\n\n}\n\nlet carousel_core = new Carousel_core({\n\n    selector: '.main',\n    pagination: '.pagination'\n});\n\n\n$('#next-slide').on('click', function(){\n    carousel_core.go_to('forward');\n})\n\n$('#prev-slide').on('click', function(){\n    carousel_core.go_to('backward');\n})"]}