"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=function(){function t(i,n){_classCallCheck(this,t);var a=this;a.settings=e.extend({autoplay_speed:1,animate_duration:1,autoplay:!0},n);var r=e(i),l=r.find(">div");a.$thumbs=e(n.thumbs_selector),a.slides=a.create_slides_arr(l),a.thumbs=a.create_thumbs_arr(),a.slider_width=0,a.slider_height=0,a.thumb_width=0,a.thumb_width=0,a.current_index=0,a.next_index=null,a.prev_index=null,a.animate_direction=null,a.play_interval,a.thumb_animation_tl=new TimelineMax,a.slider_animation_tl=new TimelineMax,a.interval=a.settings.autoplay_speed+a.settings.animate_duration,a.slides_count=a.slides.length,a.init_thumbs_index(),a.get_slide_size(),a.get_thumb_size(),a.init_pagination_thumbs(),n.autoplay&&a.play()}return _createClass(t,[{key:"init_pagination_thumbs",value:function(){var t=this;t.$thumbs.find(">div").on("click",function(){t.go_to_index(e(this).data("slide_index"))})}},{key:"get_slide_size",value:function(){var t=this;t.slider_width=t.slides[0].element.outerWidth(),t.slider_height=t.slides[0].element.outerHeight(),e(window).on("resize",function(){t.slider_width=t.slides[0].element.outerWidth(),t.slider_height=t.slides[0].element.outerHeight()})}},{key:"get_thumb_size",value:function(){var t=this;t.thumb_width=t.thumbs[0].element.outerWidth(),t.thumb_height=t.thumbs[0].element.outerHeight(),e(window).on("resize",function(){t.thumb_width=t.thumbs[0].element.outerWidth(),t.thumb_height=t.thumbs[0].element.outerHeight()})}},{key:"create_thumbs_arr",value:function(){var t=this;t.$thumbs.find(">div:eq(0)").remove();var i=[];return t.$thumbs.find(">div").each(function(){i.push({element:e(this)})}),i}},{key:"create_slides_arr",value:function(t){var i=this,n=0,a=[];return t.each(function(t){a.push({element:e(this),element_thumb_content:i.$thumbs.find(">div:eq("+n+")>div"),slide_settings:e(this).data("expandCarousel")}),n++}),a}},{key:"init_thumbs_index",value:function(){var e=this,t=0,i=0;e.slides.forEach(function(){t!=e.current_index&&(e.thumbs[i].element.data("slide_index",t),i++),t++})}},{key:"play",value:function(){var e=this;clearInterval(e.play_interval),e.play_interval=setInterval(function(){e.go_to("forward")},1e3*e.interval)}},{key:"stop",value:function(){var e=this;clearInterval(e.play_interval)}},{key:"next",value:function(){this.go_to("forward")}},{key:"prev",value:function(){this.go_to("backward")}},{key:"go_to_index",value:function(e){var t=this;t.next_index=e,t.render()}},{key:"go_to",value:function(e){var t=this;t.prev_index=t.next_index,"forward"==e?t.current_index==t.slides.length-1?t.next_index=0:t.next_index=t.current_index+1:"backward"==e&&(0==t.current_index?t.next_index=t.slides.length-1:t.next_index=t.current_index-1),t.render()}},{key:"render",value:function(){var e=this;e.set_animate_duration(),e.slider_animation(),e.thumb_animation(),e.current_index=e.next_index,e.next_index=null}},{key:"set_animate_duration",value:function(){var e=this;e.current_index==e.slides.length-1&&0==e.next_index?e.animate_direction="forward":0==e.current_index&&e.next_index==e.slides.length-1?e.animate_direction="backward":e.next_index>e.current_index?e.animate_direction="forward":e.animate_direction="backward"}},{key:"slider_animation",value:function(){var e=this;!0===e.slider_animation_tl.isActive()&&e.slider_animation_tl.progress(1),e.slider_animation_tl.set(e.slides[e.next_index].element,{className:"+=next"}),e.slider_animation_tl.set(e.slides[e.current_index].element,{className:"+=prev"}),"forward"==e.animate_direction?e.slider_animation_tl.fromTo(e.slides[e.current_index].element,e.settings.animate_duration,{clip:"rect(0, "+e.slider_width+"px, "+e.slider_height+"px, 0px)"},{clip:"rect(0, 0px,"+e.slider_height+"px, 0px)"}):e.slider_animation_tl.fromTo(e.slides[e.current_index].element,e.settings.animate_duration,{clip:"rect(0, "+e.slider_width+"px, "+e.slider_height+"px, 0px)"},{clip:"rect(0, "+e.slider_width+"px, "+e.slider_height+"px, "+e.slider_width+"px)"}),e.slider_animation_tl.set(e.slides[e.current_index].element,{className:"-=active"}),e.slider_animation_tl.set(e.slides[e.current_index].element,{className:"-=prev"}),e.slider_animation_tl.set(e.slides[e.current_index].element,{clip:"rect(0, "+e.slider_width+"px, "+e.slider_height+"px, 0px)"}),e.slider_animation_tl.set(e.slides[e.next_index].element,{className:"-=next"}),e.slider_animation_tl.set(e.slides[e.next_index].element,{className:"+=active"})}},{key:"thumb_animation",value:function(){var t=this;t.thumbs.forEach(function(i){if(i.element.data("slide_index")==t.next_index){!0===t.thumb_animation_tl.isActive()&&t.thumb_animation_tl.progress(1),i.element.append(t.slides[t.current_index].element_thumb_content);var n=e(i.element).find(">div:eq(1)"),a=e(i.element).find(">div:eq(0)");t.thumb_animation_tl.set(a,{className:"+=prev"}),t.thumb_animation_tl.set(n,{className:"+=next"}),"forward"==t.animate_direction?t.thumb_animation_tl.fromTo(a,t.settings.animate_duration,{clip:"rect(0, "+t.thumb_width+"px, "+t.thumb_height+"px, 0px)"},{clip:"rect(0, 0px,"+t.thumb_height+"px, 0px)"}):t.thumb_animation_tl.fromTo(a,t.settings.animate_duration,{clip:"rect(0, "+t.thumb_width+"px, "+t.thumb_height+"px, 0px)"},{clip:"rect(0, "+t.thumb_width+"px,"+t.thumb_height+"px, "+t.thumb_width+"px)"}),t.thumb_animation_tl.set(a,{className:"-=prev"}),t.thumb_animation_tl.set(a,{className:"-=active"}),t.thumb_animation_tl.set(n,{className:"-=next"}),t.thumb_animation_tl.set(n,{className:"+=active"}),t.thumb_animation_tl.set(a,{clip:"rect(0, "+t.thumb_width+"px, "+t.thumb_height+"px, 0px)"}),i.element.data("slide_index",t.current_index)}})}}]),t}();e.fn.clipCarousel=function(){var e=this,i=arguments[0],n=Array.prototype.slice.call(arguments,1),a=e.length,r=void 0,l=void 0;for(r=0;r<a;r++)if("object"==(void 0===i?"undefined":_typeof(i))||void 0===i?e[r].clip_carousel=new t(e[r],i):l=e[r].clip_carousel[i].apply(e[r].clip_carousel,n),void 0!==l)return l;return e}}),$(".photo-slider").clipCarousel({thumbs_selector:".photo-slider-thumb"}),$("#slide-next").on("click",function(){$(".photo-slider").clipCarousel("go_to","forward")}),$("#slide-prev").on("click",function(){$(".photo-slider").clipCarousel("go_to","backward")});
//# sourceMappingURL=clip_carousel.min.js.map
