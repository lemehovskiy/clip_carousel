"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Carousel_core=function(){function e(t){_classCallCheck(this,e);var i=this,n=$(t.selector),a=n.find("div");i.slides=i.create_slides_arr(a),i.thumbs=i.create_thumbs_arr(),i.slider_width=0,i.slider_height=0,i.thumb_width=0,i.thumb_width=0,i.current_index=0,i.next_index=null,i.prev_index=null,i.play_interval,i.thumb_animation_tl=new TimelineMax,i.slider_animation_tl=new TimelineMax,i.autoplay_speed=2,i.animate_duration=3,i.interval=i.autoplay_speed+i.animate_duration,i.skip_slide=!1,i.slides_count=i.slides.length,t.pagination&&i.pagination(t.pagination),i.init_thumbs_index(),i.get_slide_size(),i.get_thumb_size()}return _createClass(e,[{key:"get_slide_size",value:function(){var e=this;e.slider_width=$(".main >div").outerWidth(),e.slider_height=$(".main >div").outerHeight(),$(window).on("resize",function(){e.slider_width=$(".main >div").outerWidth(),e.slider_height=$(".main >div").outerHeight()})}},{key:"get_thumb_size",value:function(){var e=this;e.thumb_width=$(".thumb >div").outerWidth(),e.thumb_height=$(".thumb >div").outerHeight(),$(window).on("resize",function(){e.thumb_width=$(".thumb >div").outerWidth(),e.thumb_height=$(".thumb >div").outerHeight()})}},{key:"create_thumbs_arr",value:function(){$(".thumb >div:eq(0)").remove();var e=[];return $(".thumb >div").each(function(){e.push({element:$(this)})}),e}},{key:"create_slides_arr",value:function(e){var t=0,i=[];return e.each(function(e){i.push({element:$(this),element_thumb_content:$(".thumb >div:eq("+t+")>div"),slide_settings:$(this).data("expandCarousel")}),t++}),i}},{key:"init_thumbs_index",value:function(){var e=this,t=0,i=0;e.slides.forEach(function(){t!=e.current_index&&(e.thumbs[i].element.data("slide_index",t),i++),t++})}},{key:"pagination",value:function(e){for(var t=this,i=0,n=$(e),a=0;a<t.slides_count;a++)n.append("<span>"+i+++"</span>");n.on("click","span",function(){t.go_to_index($(this).index())})}},{key:"play",value:function(){var e=this;clearInterval(e.play_interval),e.play_interval=setInterval(function(){e.go_to("forward")},1e3*e.interval)}},{key:"stop",value:function(){var e=this;clearInterval(e.play_interval)}},{key:"next",value:function(){this.go_to("forward")}},{key:"prev",value:function(){this.go_to("backward")}},{key:"go_to_index",value:function(e){var t=this;t.next_index=e,t.render()}},{key:"go_to",value:function(e){var t=this;t.prev_index=t.next_index,"forward"==e?t.current_index==t.slides.length-1?t.next_index=0:t.next_index=t.current_index+1:"backward"==e&&(0==t.current_index?t.next_index=t.slides.length-1:t.next_index=t.current_index-1),t.render()}},{key:"render",value:function(){var e=this;e.slider_animation(),e.thumb_animation(),e.current_index=e.next_index,e.next_index=null}},{key:"slider_animation",value:function(){var e=this;!0===e.slider_animation_tl.isActive()&&e.slider_animation_tl.progress(1),e.slider_animation_tl.set(e.slides[e.next_index].element,{className:"+=next"}),e.slider_animation_tl.fromTo(e.slides[e.current_index].element,3,{clip:"rect(0, "+e.slider_width+"px, "+e.slider_height+"px, 0px)"},{clip:"rect(0, 0px,"+e.slider_height+"px, 0px)"}),e.slider_animation_tl.set(e.slides[e.current_index].element,{className:"-=active"}),e.slider_animation_tl.set(e.slides[e.current_index].element,{clip:"rect(0, "+e.slider_width+"px, "+e.slider_height+"px, 0px)"}),e.slider_animation_tl.set(e.slides[e.next_index].element,{className:"-=next"}),e.slider_animation_tl.set(e.slides[e.next_index].element,{className:"+=active"})}},{key:"thumb_animation",value:function(){var e=this;e.thumbs.forEach(function(t){if(t.element.data("slide_index")==e.next_index){!0===e.thumb_animation_tl.isActive()&&e.thumb_animation_tl.progress(1),t.element.append(e.slides[e.current_index].element_thumb_content);var i=$(t.element).find("div:eq(1)"),n=$(t.element).find("div:eq(0)");e.thumb_animation_tl.set(i,{className:"+=next"}),e.thumb_animation_tl.fromTo(n,3,{clip:"rect(0, "+e.thumb_width+"px, "+e.thumb_height+"px, 0px)"},{clip:"rect(0, 0px,"+e.thumb_height+"px, 0px)"}),e.thumb_animation_tl.set(n,{className:"-=active"}),e.thumb_animation_tl.set(i,{className:"-=next"}),e.thumb_animation_tl.set(i,{className:"+=active"}),e.thumb_animation_tl.set(n,{clip:"rect(0, "+e.thumb_width+"px, "+e.thumb_height+"px, 0px)"}),t.element.data("slide_index",e.current_index)}})}}]),e}(),carousel_core=new Carousel_core({selector:".main",pagination:".pagination"});$("#next-slide").on("click",function(){carousel_core.go_to("forward")}),$("#prev-slide").on("click",function(){carousel_core.go_to("backward")}),$(".thumb >div").on("click",function(){carousel_core.go_to_index($(this).data("slide_index"))});
//# sourceMappingURL=parallaxContent.min.js.map
